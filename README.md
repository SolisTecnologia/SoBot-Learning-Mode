# Solis Robot - SoBot
![](https://github.com/SolisTecnologia/SoBot-Learning-Mode/blob/master/png/SoBotControlF710.png)
# Introduction

AMR (autonomous mobile robotics) platform equipped with a camera system, ultrasonic and photoelectric sensors, works with a high rate of precision and repeatability of its movements, as it uses stepper motors in its movement and navigation, the SoBot also can be termed as a research and development interface, as it facilitates the practical experimentation of algorithms from the simplest to the most complex level.

This product was developed 100% by Solis Tecnologia, and has a lot of technology employing cutting-edge concepts, such as:

The motors can be controlled simultaneously or individually.
The user can select different accessories to implement to the robot.
Several programming languages can be used to connect via API.

# Components

* Main structure in aluminum
* Robot Control Driver
* Raspberry Pi 4B board <img align="center" height="30" width="40" src="https://github.com/devicons/devicon/blob/master/icons/raspberrypi/raspberrypi-original.svg">
* 2x NEMA-23 Stepper Motors
* 2x 12V/5A battery
* USB control  <img align="center" height="40" width="40" src="https://github.com/SolisTecnologia/SoBot-USB-Control/blob/master/png/control.png">

# Programming Example
## Learning Mode - [LearningMode.py](https://github.com/SolisTecnologia/SoBot-Learning-Mode/blob/master/LearningMode.py)

For this programming, the SoBot was equipped with a camera and a Logitech F710 wireless controller. The robot is capable of recording and executing commands based on inputs received from the controller, allowing the movements to be replicated later. In addition, the SoBot's camera provides a real-time view of the path taken, which facilitates navigation and supervision of the robot in real time.

### Programming Language

* Python  <img align="center" height="30" width="40" src="https://raw.githubusercontent.com/devicons/devicon/master/icons/python/python-original.svg">

### Required Libraries

~~~python
import multiprocessing
import evdev
from evdev import InputDevice, categorize, ecodes
from time import sleep, perf_counter
import serial
import serial.tools.list_ports
import cv2
import numpy as np
~~~

**Multiprocessing:** To handle simultaneous processes, such as reading devices and executing commands.  
**Evdev:** To capture events generated by the Logitech controller.  
**Serial:** For serial communication between the SoBot and the Raspberry.  
**Cv2 (OpenCV):** For capturing and processing video from the robot's integrated camera.  
**Numpy:** For manipulating arrays.  

### Code Description

The programming was developed using the **Multiprocessing** library to execute different tasks in parallel, thus being able to create modular functions, where each function executes a specific task (reading the control, communicating with the robot, capturing video, etc.) and **events** (Event()) are used to synchronize the execution of tasks between processes and **queues** (Queue()) are also used to store commands and allow communication between processes.

#### Main Function

Function developed to:
* Find the serial device and initialize communication;
* Create and initialize multiprocessing functions to execute tasks in parallel;
* Create synchronization mechanisms for different processes (Event);
* Create data structures that will be shared in a safe and organized manner (Queue);


#### Auxiliary Functions
#### def status_value()

Function to read the current movement status of the SoBot. It processes the received command by evaluating the direction and movement based on status signals and returns the current value and movement flags.

#### def VideoCapture

This function captures and displays continuous frames from the camera using OpenCV.  
The function enters a loop where the frames are captured and displayed in a window called "Original".  
The loop ends if the 'q' key is pressed, which closes the window.  
This function is useful for viewing in real time what the robot's camera is capturing.  

The commands used in this example to control SoBot are continuous movement commands, as follows:

~~~python
serialUSB.write(b"MT0 ME1")     # Enable continuous movement
serialUSB.write(b"MT0 ME0")     # Disable continuous movement
serialUSB.write(b"MT0 ML")      # Move left
serialUSB.write(b"MT0 MR")      # Move right
serialUSB.write(b"MT0 MB")      # Move backward
serialUSB.write(b"MT0 MF")      # Move Forward
serialUSB.write(b"MT0 MP")      # Pause movement
~~~

For more information about the commands used, check the Robot Commands Reference Guide.

### Flowchart

![](https://github.com/SolisTecnologia/SoBot-USB-Control/blob/master/png/Flowchart_USB_Control.png)

# Reference Link
[SolisTecnologia website](https://solistecnologia.com/produtos/robotsingle)

# Please Contact Us
If you have any problem when using our robot after checking this tutorial, please contact us.

### Phone:
+55 1143040786

### Technical support email: 
contato@solistecnologia.com.br

![](https://github.com/SolisTecnologia/SoBot-USB-Control/blob/master/png/logo.png)